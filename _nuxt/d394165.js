(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{263:function(t,e,o){var content=o(273);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(24).default)("4ebd32b5",content,!0,{sourceMap:!1})},272:function(t,e,o){"use strict";o(263)},273:function(t,e,o){var r=o(23),n=o(109),l=o(167);e=r(!1);var c=n(l);e.push([t.i,"body[data-v-a1283d34]{background-color:#fff}#auth[data-v-a1283d34]{height:100vh;overflow-x:hidden}#auth #auth-right[data-v-a1283d34]{height:100%;background:url("+c+"),linear-gradient(90deg,#2d499d,#3f5491)}#auth #auth-left[data-v-a1283d34]{padding:5rem 8rem}#auth #auth-left .auth-title[data-v-a1283d34]{font-size:4rem;margin-bottom:1rem}#auth #auth-left .auth-subtitle[data-v-a1283d34]{font-size:1.7rem;line-height:2.5rem;color:#a8aebb}#auth #auth-left .auth-logo[data-v-a1283d34]{margin-bottom:7rem}#auth #auth-left .auth-logo img[data-v-a1283d34]{height:2rem}@media screen and (max-width:767px){#auth #auth-left[data-v-a1283d34]{padding:5rem}}",""]),t.exports=e},289:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth-logo"},[e("a",{attrs:{href:"index.html"}},[e("img",{attrs:{src:o(71),alt:"Logo"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-control-icon"},[e("i",{staticClass:"bi bi-person"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-control-icon"},[e("i",{staticClass:"bi bi-shield-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-check form-check-lg d-flex align-items-end"},[e("input",{staticClass:"form-check-input me-2",attrs:{type:"checkbox",value:"",id:"flexCheckDefault"}}),this._v(" "),e("label",{staticClass:"form-check-label text-gray-600",attrs:{for:"flexCheckDefault"}},[this._v("\n                    Keep me logged in\n                ")])])}],n={layout:"auth",data:function(){return{email:"",password:"",error:!1}},methods:{login:function(){var t=this;this.$axios.post("/api/token/",{email:this.email,password:this.password}).then((function(e){t.$store.commit("setToken",e.data.access),console.log(e),t.$axios.defaults.headers.common.Authorization="Bearer ".concat(e.data.access),t.$axios.get("/api/token/get_user",{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}}).then((function(e){console.log(e.data),t.$store.commit("updateUser",e.data[0]),e.data[0].is_clinic?t.$router.push("/clinic"):(e.data[0].is_patient,t.$router.push("/user"))}))})).catch((function(e){console.log(e),t.error=e.response.data.detail}))}}},l=(o(272),o(6)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"auth-left"}},[t._m(0),t._v(" "),o("h1",{staticClass:"auth-title"},[t._v("Log in.")]),t._v(" "),o("p",{staticClass:"auth-subtitle mb-5"},[t._v("Log in with your data that you entered during registration.")]),t._v(" "),t.$route.query.success?o("div",{staticClass:"alert alert-success"},[t._v("Success register! Please login")]):t._e(),t._v(" "),t.error?o("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),t._v(" "),o("form",{attrs:{action:"index.html"}},[o("div",{staticClass:"form-group position-relative has-icon-left mb-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-xl",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t._m(1)]),t._v(" "),o("div",{staticClass:"form-group position-relative has-icon-left mb-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-xl",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t._m(2)]),t._v(" "),t._m(3),t._v(" "),o("button",{staticClass:"btn btn-primary btn-block btn-lg shadow-lg mt-5",attrs:{type:"button"},on:{click:t.login}},[t._v("Log in")])]),t._v(" "),o("div",{staticClass:"text-center mt-5 text-lg fs-4"},[o("p",{staticClass:"text-gray-600"},[t._v("Don't have an account? "),o("nuxt-link",{staticClass:"font-bold",attrs:{to:{name:"auth-register"}}},[t._v("Sign\n                    up")]),t._v(".")],1)])])])}),r,!1,null,"a1283d34",null);e.default=component.exports}}]);